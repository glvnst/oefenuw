<template>
  <div class="control has-icons-left">
    <div class="select is-rounded is-fullwidth">
      <select v-model="$i18n.locale">
        <option
          v-for="(lang, langCode) in enabledLanguages"
          :key="langCode"
          :value="langCode"
          :class="{ rtl: lang.rtl }"
        >
          {{ lang["s"] }}
        </option>
      </select>
    </div>
    <span class="icon is-left">üåç</span>
  </div>
</template>

<script>
// Much of this language data comes from:
// <https://meta.wikimedia.org/wiki/Template:List_of_language_names_ordered_by_code>
const langs = {
  aa: { s: "Afar" },
  ab: { s: "–ê“ß—Å—É–∞" },
  af: { s: "Afrikaans" },
  ak: { s: "Akana" },
  als: { s: "Alemannisch" },
  am: { s: "·ä†·àõ·à≠·äõ" },
  an: { s: "Aragon√©s" },
  ang: { s: "Englisc" },
  ar: { s: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", rtl: true },
  arc: { s: "‹£‹ò‹™‹¨", rtl: true },
  as: { s: "‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ" },
  ast: { s: "Asturianu" },
  av: { s: "–ê–≤–∞—Ä" },
  awa: { s: "Awadhi" },
  ay: { s: "Aymar" },
  az: { s: "Az…ôrbaycanca / ÿ¢ÿ∞ÿ±ÿ®ÿßŸäÿ¨ÿßŸÜ" },
  ba: { s: "–ë–∞—à“°–æ—Ä—Ç" },
  bar: { s: "Boarisch" },
  "bat-smg": { s: "≈Ωemaitƒó≈°ka" },
  bcl: { s: "Bikol Central" },
  "be-tarask": { s: "–ë–µ–ª–∞—Ä—É—Å–∫–∞—è (—Ç–∞—Ä–∞—à–∫–µ–≤—ñ—Ü–∞)" },
  be: { s: "–ë–µ–ª–∞—Ä—É—Å–∫–∞—è" },
  ber: { s: "‚µú‚¥∞‚µé‚¥∞‚µ£‚µâ‚µñ‚µú / Tamazi…£t" },
  bg: { s: "–ë—ä–ª–≥–∞—Ä—Å–∫–∏" },
  bh: { s: "‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä" },
  bi: { s: "Bislama" },
  bm: { s: "Bamanankan" },
  bn: { s: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ" },
  bo: { s: "‡Ωñ‡Ωº‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ / Bod skad" },
  bpy: { s: "‡¶á‡¶Æ‡¶æ‡¶∞ ‡¶†‡¶æ‡¶∞/‡¶¨‡¶ø‡¶∑‡ßç‡¶£‡ßÅ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ" },
  br: { s: "Brezhoneg" },
  bs: { s: "Bosanski" },
  bug: { s: "·®Ö·®î ·®ï·®ò·®Å·®ó / Basa Ugi" },
  bxr: { s: "–ë—É—Ä—è–∞–¥ —Ö—ç–ª—ç–Ω" },
  ca: { s: "Catal√†" },
  cdo: { s: "M√¨ng-dƒïÃ§ng-ng·π≥ÃÑ / Èñ©Êù±Ë™û" },
  ce: { s: "–ù–æ—Ö—á–∏–π–Ω" },
  ceb: { s: "Sinugboanong Binisaya" },
  ch: { s: "Chamoru" },
  cho: { s: "Choctaw" },
  chr: { s: "·è£·é≥·é©" },
  chy: { s: "Tsets√™hest√¢hese" },
  "closed-zh-tw": { s: "‚Ä™‰∏≠Êñá(Âè∞ÁÅ£)‚Ä¨" },
  co: { s: "Corsu" },
  cr: { s: "Nehiyaw" },
  cs: { s: "ƒåesky" },
  csb: { s: "Kasz√´bsczi" },
  cu: { s: "—Å–ª–æ–≤—£–Ω—å—Å–∫—ä / slovƒõnƒ≠sk≈≠" },
  cv: { s: "–ßƒÉ–≤–∞—à" },
  cy: { s: "Cymraeg" },
  da: { s: "Dansk" },
  de: { s: "Deutsch" },
  diq: { s: "Zazaki" },
  dsb: { s: "Dolnoserbski" },
  dv: { s: "ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁÑﬁ¶ﬁêﬁ∞", rtl: true },
  dz: { s: "‡Ωá‡Ωº‡ΩÑ‡ºã‡ΩÅ" },
  ee: { s: "∆ê ã…õ" },
  el: { s: "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨" },
  en: { s: "English" },
  eo: { s: "Esperanto" },
  es: { s: "Espa√±ol" },
  et: { s: "Eesti" },
  eu: { s: "Euskara" },
  ext: { s: "Estreme√±u" },
  fa: { s: "ŸÅÿßÿ±ÿ≥€å", rtl: true },
  ff: { s: "Fulfulde" },
  fi: { s: "Suomi" },
  "fiu-vro": { s: "V√µro" },
  fj: { s: "Na Vosa Vakaviti" },
  fo: { s: "F√∏royskt" },
  fr: { s: "Fran√ßais" },
  frp: { s: "Arpitan / francoproven√ßal" },
  fur: { s: "Furlan" },
  fy: { s: "Frysk" },
  ga: { s: "Gaeilge" },
  gan: { s: "Ë¥õË™û" },
  gbm: { s: "‡§ó‡§¢‡§º‡§µ‡§≥‡•Ä" },
  gd: { s: "G√†idhlig" },
  gil: { s: "Taetae ni kiribati" },
  gl: { s: "Galego" },
  gn: { s: "Ava√±e'·∫Ω" },
  got: { s: "gutisk" },
  gu: { s: "‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä" },
  gv: { s: "Gaelg" },
  ha: { s: "ŸáŸéŸàŸèÿ≥Ÿé", rtl: true },
  hak: { s: "ÂÆ¢ÂÆ∂Ë™û/Hak-k√¢-ng√Æ" },
  haw: { s: "Hawai`i" },
  he: { s: "◊¢◊ë◊®◊ô◊™", rtl: true },
  hi: { s: "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä" },
  ho: { s: "Hiri Motu" },
  hr: { s: "Hrvatski" },
  ht: { s: "Kr√®yol ayisyen" },
  hu: { s: "Magyar" },
  hy: { s: "’Ä’°’µ’•÷Ä’•’∂" },
  hz: { s: "Otsiherero" },
  ia: { s: "Interlingua" },
  id: { s: "Bahasa Indonesia" },
  ie: { s: "Interlingue" },
  ig: { s: "Igbo" },
  ii: { s: "ÍÜáÍâô / ÂõõÂ∑ùÂΩùËØ≠" },
  ik: { s: "I√±upiak" },
  ilo: { s: "Ilokano" },
  inh: { s: "–ì”Ä–∞–ª–≥”Ä–∞–π" },
  io: { s: "Ido" },
  is: { s: "√çslenska" },
  it: { s: "Italiano" },
  iu: { s: "·êÉ·ìÑ·íÉ·ëé·ëê·ë¶" },
  ja: { s: "Êó•Êú¨Ë™û" },
  jbo: { s: "Lojban" },
  jv: { s: "Basa Jawa" },
  ka: { s: "·É•·Éê·É†·Éó·É£·Éö·Éò" },
  kg: { s: "KiKongo" },
  khw: { s: "⁄©⁄æŸàÿßÿ±", rtl: true },
  ki: { s: "Gƒ©k≈©y≈©" },
  kj: { s: "Kuanyama" },
  kk: { s: "“ö–∞–∑–∞“õ—à–∞" },
  kl: { s: "Kalaallisut" },
  km: { s: "·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö" },
  kn: { s: "‡≤ï‡≤®‡≥ç‡≤®‡≤°" },
  ko: { s: "ÌïúÍµ≠Ïñ¥" },
  kr: { s: "Kanuri" },
  ks: { s: "‡§ï‡§∂‡•ç‡§Æ‡•Ä‡§∞‡•Ä / ŸÉÿ¥ŸÖŸäÿ±Ÿä", rtl: true },
  ksh: { s: "Ripoarisch" },
  ku: { s: "Kurd√Æ / ŸÉŸàÿ±ÿØ€å", rtl: true },
  kv: { s: "–ö–æ–º–∏" },
  kw: { s: "Kernewek" },
  ky: { s: "Kƒ±rgƒ±zca / –ö—ã—Ä–≥—ã–∑—á–∞" },
  la: { s: "Latina" },
  lad: { s: "Dzhudezmo / Djudeo-Espanyol" },
  lan: { s: "Leb Lango / Luo" },
  lb: { s: "L√´tzebuergesch" },
  lg: { s: "Luganda" },
  li: { s: "Limburgs" },
  lij: { s: "L√≠guru" },
  lmo: { s: "Lumbaart" },
  ln: { s: "Ling√°la" },
  lo: { s: "‡∫•‡∫≤‡∫ß / Pha xa lao" },
  lt: { s: "Lietuvi≈≥" },
  lv: { s: "Latvie≈°u" },
  "map-bms": { s: "Basa Banyumasan" },
  mg: { s: "ÂÆòË©±/ÂÆòËØù" },
  mh: { s: "Kajin Majel / Ebon" },
  mi: { s: "MƒÅori" },
  min: { s: "Minangkabau" },
  mk: { s: "–ú–∞–∫–µ–¥–æ–Ω—Å–∫–∏" },
  ml: { s: "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç" },
  mn: { s: "–ú–æ–Ω–≥–æ–ª" },
  mo: { s: "MoldoveneascƒÉ" },
  mr: { s: "‡§Æ‡§∞‡§æ‡§†‡•Ä" },
  ms: { s: "Bahasa Melayu" },
  mt: { s: "bil-Malti" },
  mus: { s: "Mvskoke" },
  mwl: { s: "Mirand√©s" },
  my: { s: "Myanmasa" },
  na: { s: "Dorerin Naoero" },
  nah: { s: "Nahuatl" },
  nap: { s: "Nnapulitano" },
  nb: { s: "Norsk (bokm√•l)" },
  nd: { s: "Sindebele" },
  "nds-nl": { s: "Nedersaksisch" },
  nds: { s: "Plattd√º√ºtsch" },
  ne: { s: "‡§®‡•á‡§™‡§æ‡§≤‡•Ä" },
  new: { s: "‡§®‡•á‡§™‡§æ‡§≤‡§≠‡§æ‡§∑‡§æ / Newah Bhaye" },
  ng: { s: "Oshiwambo" },
  nl: { s: "Nederlands" },
  nn: { s: "Norsk (nynorsk)" },
  no: { s: "Norsk (bokm√•l / riksm√•l)" },
  nr: { s: "isiNdebele" },
  nrm: { s: "Nouormand / Normaund" },
  nso: { s: "Sesotho sa Leboa / Sepedi" },
  nv: { s: "Din√© bizaad" },
  ny: { s: "Chi-Chewa" },
  oc: { s: "Occitan" },
  oj: { s: "·êä·ìÇ·îë·ìà·êØ·íß·êé·ìê / Anishinaabemowin" },
  om: { s: "Oromoo" },
  or: { s: "‡¨ì‡¨°‡¨º‡¨ø‡¨Ü" },
  os: { s: "–ò—Ä–æ–Ω–∞—É" },
  pa: { s: "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä / ‡§™‡§Ç‡§ú‡§æ‡§¨‡•Ä / ŸæŸÜÿ¨ÿßÿ®Ÿä" },
  pag: { s: "Pangasinan" },
  pam: { s: "Kapampangan" },
  pap: { s: "Papiamentu" },
  pdc: { s: "Deitsch" },
  pi: { s: "PƒÅli / ‡§™‡§æ‡§¥‡§ø" },
  pih: { s: "Norfuk" },
  pl: { s: "Polski" },
  pms: { s: "Piemont√®is" },
  ps: { s: "Ÿæ⁄öÿ™Ÿà", rtl: true },
  pt: { s: "Portugu√™s" },
  qu: { s: "Runa Simi" },
  rm: { s: "Rumantsch" },
  rmy: { s: "Romani / ‡§∞‡•ã‡§Æ‡§æ‡§®‡•Ä" },
  rn: { s: "Kirundi" },
  ro: { s: "Rom√¢nƒÉ" },
  "roa-rup": { s: "Arm√¢neashti" },
  ru: { s: "–†—É—Å—Å–∫–∏–π" },
  rw: { s: "Kinyarwandi" },
  sa: { s: "‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç" },
  sc: { s: "Sardu" },
  scn: { s: "Sicilianu" },
  sco: { s: "Scots" },
  sd: { s: "‡§∏‡§ø‡§®‡§ß‡§ø" },
  se: { s: "Davvis√°megiella" },
  sg: { s: "S√§ng√∂" },
  sh: { s: "Srpskohrvatski / –°—Ä–ø—Å–∫–æ—Ö—Ä–≤–∞—Ç—Å–∫–∏" },
  si: { s: "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω" },
  sk: { s: "Slovenƒçina" },
  sl: { s: "Sloven≈°ƒçina" },
  sm: { s: "Gagana Samoa" },
  sn: { s: "chiShona" },
  so: { s: "Soomaaliga" },
  sq: { s: "Shqip" },
  sr: { s: "–°—Ä–ø—Å–∫–∏" },
  ss: { s: "SiSwati" },
  st: { s: "Sesotho" },
  su: { s: "Basa Sunda" },
  sv: { s: "Svenska" },
  sw: { s: "Kiswahili" },
  ta: { s: "‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç" },
  te: { s: "‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å" },
  tet: { s: "Tetun" },
  tg: { s: "–¢–æ“∑–∏–∫”£" },
  th: { s: "‡πÑ‡∏ó‡∏¢ / Phasa Thai" },
  ti: { s: "·âµ·åç·à≠·äõ" },
  tk: { s: "–¢—É—Ä–∫–º–µ–Ω / ÿ™ÿ±ŸÉŸÖŸÜ" },
  tl: { s: "Tagalog" },
  tlh: { s: "tlhIngan-Hol" },
  tn: { s: "Setswana" },
  to: { s: "Lea Faka-Tonga" },
  tokipona: { s: "tokipona" },
  tpi: { s: "Tok Pisin" },
  tr: { s: "T√ºrk√ße" },
  ts: { s: "Xitsonga" },
  tt: { s: "Tatar√ßa" },
  tum: { s: "chiTumbuka" },
  tw: { s: "Twi" },
  ty: { s: "Reo MƒÅ`ohi" },
  udm: { s: "–£–¥–º—É—Ä—Ç –∫—ã–ª" },
  ug: { s: "Uy∆£urq…ô / ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï" },
  uk: { s: "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞" },
  ur: { s: "ÿßÿ±ÿØŸà", rtl: true },
  uz: { s: "–é–∑–±–µ–∫" },
  ve: { s: "Tshiven·∏ìa" },
  vec: { s: "V√®neto" },
  vi: { s: "Vi·ªátnam" },
  vls: { s: "West-Vlaoms" },
  vo: { s: "Volap√ºk" },
  wa: { s: "Walon" },
  war: { s: "Winaray / Binisaya Lineyte-Samarnon" },
  wo: { s: "Wollof" },
  xal: { s: "–•–∞–ª—å–º–≥" },
  xh: { s: "isiXhosa" },
  xmf: { s: "·Éõ·Éê·É†·Éí·Éê·Éö·É£·É†·Éò" },
  yi: { s: "◊ô◊ô÷¥◊ì◊ô◊©", rtl: true },
  yo: { s: "Yor√πb√°" },
  za: { s: "Cuengh / T√¥√¥ / Â£ÆËØ≠" },
  "zh-classical": { s: "ÊñáË®Ä" },
  "zh-min-nan": { s: "B√¢n-l√¢m-g√∫" },
  "zh-tw": { s: "‚Ä™‰∏≠Êñá(Âè∞ÁÅ£)‚Ä¨" },
  "zh-yue": { s: "Á≤µË™û / Á≤§ËØ≠" },
  zh: { s: "‰∏≠Êñá" },
  zu: { s: "isiZulu" }
};

export default {
  name: "LanguageChooser",
  computed: {
    enabledLanguages() {
      return Object.fromEntries(
        this.loadedLocales.map(locale => {
          return [locale, langs[locale]];
        })
      );
    }
  },
  data() {
    return {
      loadedLocales: Object.keys(this.$i18n.messages)
    };
  }
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
.rtl {
  direction: rtl;
}
</style>
